# make_wiki_word2vec_for_lec.ipynb の使い方のヒント

## google driveをマウント

「google driveをマウント」の直下のセルを実行して表示される URL をクリックしてブラウザを開き google drive の権限を与える自身の google アカウントを選択する．



authorization code: の英数字列が表示されるのでコピーしてセルの下部の実行結果中のテキストフィールドに入力する．



## モデルの読み込み

「wikiモデルの構築」の直下のセルはわからない場合は使用しなくて構わない．



「モデルの読込み」の直下のセル内に，自己の google drive の任意のフォルダにカメリオが提供する学習済みモデルをアップロードし，以下のパスをアップロード先のパスへ書き換える．



KAMERIO_MODEL =  '/content/drive/My Drive/edu2018ss/simple_word2vec-/latest-ja-word2vec-gensim-model/word2vec.gensim.model'





# 質問回答

「任意の単語を 3 つ以上与えて Word2vec の単語間類似度を測るメソッドにより上記の 1 つ以上のテキスト全体，あるいは 1 つ以上の部分テキストを決定せよ．」の説明を詳述する．



「テキスト」を「台詞」と読み替えてください．



## シナリオ例

1, <A>:[寒い]

2, <A>:[冷たい]

3, <A>:[暖かく]ない

4, <B>:[上着]を着たら



## シナリオ例の記法

上記の [] で囲んだ部分の形容詞の基本形; e.g. 「暖かく」の基本形は「暖かい」; を word2vec の入力あるいは出力結果の一つと考える．

囲んでいない台詞は，それ以外の方法，例えば手動で決定，あるいはあらかじめ用意した単語候補集合からランダムに一つの台詞を選択する，などの方法で決定する．



## Word2vec に与える任意の 3 つ以上の単語

4 コマ分の全台詞のうち，いずれかの箇所を，任意の単語を 3 つ以上与えて決定せよ



例) [暖かい][服][冷たい] という 3 つの単語を与える場合

* 4 コマ目の [上着] という単語を Word2Vec の most_similar メソッドの出力として得るために [暖かい][服] という単語を positive として与える．

* 1 コマ目の [寒い] という単語を得るために [冷たい] という単語を positive として与える



上記の例では，単語の品詞や，単語同士が同義語あるいは反意語の関係にあるかを確認することで，most_similar メソッドの出力結果の中から単語を自動選択できる可能性がある．



しかし，課題内容の難易度が上がりすぎるので，most_similar メソッドで出力する n 件中から手動選択しても構わない．



[] で囲んでいない，Word2Vec の入出力として用いない部分台詞を工夫することで入出力の単語に依存せず面白いシナリオが成立する場合を探しても良い．



## 部分テキストとテキスト全体 -> 部分台詞と台詞全体

1，2 コマ目: [] で囲んだ類義語の形容詞の形態素 1 つのみで各コマの台詞全体が構成される．

3 コマ目: [] で囲んだ 1. 2. の [] で囲んだ形容詞の反意語を部分台詞として，末尾に否定語を足して台詞全体が構成される．

4 コマ目: [] で囲んだ名詞は 1. 2. の [] で囲んだ形容詞に関連する部分台詞である．



# 入出力例

以下，本課題を考える参考となると思われる Word2Vec の most_similar メソッドの入出力例を示す．



## 例 1

model.most_similar(positive=['暖かい', '服'])

[('寒さ', 0.7411112785339355),

  ('日差し', 0.7323236465454102),

  ('冷たい', 0.7313316464424133),

  ('普段着', 0.730593740940094),

  ('長袖', 0.716113805770874),

  ('半ズボン', 0.7132443785667419),

  ('暖かく', 0.7124647498130798),

  ('ズボン', 0.7124209403991699),

  ('日陰', 0.7122949361801147),

  ('上着', 0.7034796476364136)]



model.most_similar(positive=['冷たい'])

[('熱い', 0.8514271378517151),

  ('きれいな', 0.8272330164909363),

  ('暖かい', 0.8242291808128357),

  ('温かい', 0.8088526725769043),

  ('染み', 0.7995889186859131),

  ('冷たく', 0.7939411401748657),

  ('湿気', 0.7693688869476318),

  ('乾い', 0.7671706676483154),

  ('臭い', 0.7656316161155701),

  ('暖かく', 0.7638372182846069)]



model.most_similar(positive=['暖かい'])

[('涼しい', 0.9279689788818359),

  ('寒い', 0.8981494903564453),

  ('暑い', 0.8867507576942444),

  ('涼しく', 0.8659870624542236),

  ('寒く', 0.851302981376648),

  ('暖かく', 0.8479058742523193),

  ('冷たい', 0.8242291212081909),

  ('暑く', 0.8175323605537415),

  ('湿っ', 0.8146608471870422),

  ('吹く', 0.8083584308624268)]



model.most_similar(positive=['暖かい','上着'])

[('長袖', 0.7998917102813721),

  ('ズボン', 0.7733955383300781),

  ('穿く', 0.7600542306900024),

  ('冷たい', 0.7560188174247742),

  ('黄色い', 0.7551543712615967),

  ('ブラウス', 0.7516791820526123),

  ('膝下', 0.750567615032196),

  ('踝', 0.7502013444900513),

  ('外套', 0.7457842826843262),

  ('チュニック', 0.7426120638847351)]



## 例 2

model.most_similar(positive=['仕事'])

[('アルバイト', 0.7582789063453674),

  ('寝食', 0.7074630856513977),

  ('付き合い', 0.7068559527397156),

  ('家事', 0.7048493027687073),

  ('役者', 0.7022537589073181),

  ('世話', 0.7016942501068115),

  ('仕事場', 0.6978031396865845),

  ('勉強', 0.6969189643859863),

  ('インターン', 0.6939624547958374),

  ('本業', 0.6899344325065613)]



model.most_similar(positive=['仕事','毎日'])

[('忙しい', 0.7701254487037659),

  ('アルバイト', 0.7695167660713196),

  ('食事', 0.7529768943786621),

  ('夕食', 0.736686110496521),

  ('日々', 0.7343183159828186),

  ('仕事場', 0.7297571897506714),

  ('昼食', 0.7270565629005432),

  ('用事', 0.7257317900657654),

  ('休暇', 0.7204957008361816),

  ('付き合い', 0.7180870175361633)]



model.most_similar(positive=['旅行','毎日'])

[('休暇', 0.807380199432373),

  ('昼食', 0.7911037802696228),

  ('夕食', 0.7634423971176147),

  ('毎朝', 0.7631019353866577),

  ('船旅', 0.7606617212295532),

  ('ホームステイ', 0.7397810220718384),

  ('食事', 0.7262696027755737),

  ('休み', 0.7191535830497742),

  ('海外旅行', 0.7174991369247437),

  ('忙しい', 0.7171654105186462)]

